---
import { getLocalePrefix, type Locale } from "../../i18n/config";
import Layout from "../../layouts/Layout.astro";
import PageHero from "../../components/PageHero.astro";
import { Image } from "astro:assets";
import skiShuttleImg from "../../assets/images/ski-shuttle.jpg";
import miniTourImg from "../../assets/images/mini-tour.jpg";
import guideTourImg from "../../assets/images/guide-tour.jpg";
import { type Locale } from "../../i18n/config";

// Generate paths for both locales
export function getStaticPaths() {
    return [
        { params: { lang: undefined } }, //English: /about-us
        { params: { lang: "zh" } }, // Chinese: /zh/about-us
    ];
}

const { lang } = Astro.params;
const currentLang: Locale = (lang as Locale) || "en";
const localePrefix = getLocalePrefix(currentLang);

// Translations
const t = {
    title: currentLang === "zh" ? "關於我們" : "About Us",
    subtitle:
        currentLang === "zh"
            ? "探索我們對真實旅行體驗的熱情"
            : "Crafting Unforgettable Canadian Journeys",
    mission: currentLang === "zh" ? "我們的使命" : "Our Mission",
    missionText:
        currentLang === "zh"
            ? "通過真實、精心策劃和個性化的體驗，將旅行者與加拿大的靈魂聯繫起來，創造終生難忘的回憶。"
            : "To connect travelers with the soul of Canada through authentic, handcrafted, and personalized experiences that create memories to last a lifetime.",
    whyUs: currentLang === "zh" ? "為什麼選擇我們" : "Why Choose Qualitour",
    whoWeAre: currentLang === "zh" ? "我們是誰" : "Who We Are",
    whoWeAreText1:
        currentLang === "zh"
            ? "Qualitour是一家總部位於溫哥華的旅遊運營商，致力於展示加拿大的精華。從洛磯山脈的崎嶇山峰到溫哥華充滿活力的街道，我們策劃激發靈感的體驗。"
            : "Qualitour is a Vancouver-based tour operator dedicated to showcasing the very best of Canada. From the rugged peaks of the Rockies to the vibrant streets of Vancouver, we curate experiences that inspire.",
    whoWeAreText2:
        currentLang === "zh"
            ? "我們提供各種旅遊服務，包括城市觀光、郵輪前後遊覽、冒險徒步、野生動物生態遊和滑雪假期。每一次旅程都是與自然、文化和彼此聯繫的機會。"
            : "We offer a wide range of tours including city sightseeing, pre/post cruise excursions, adventure hiking, wildlife eco-tours, and ski vacations. Every journey is an opportunity to connect with nature, culture, and each other.",
    moreThanTours:
        currentLang === "zh" ? "不僅僅是旅遊" : "More Than Just Tours",
    moreThanToursText:
        currentLang === "zh"
            ? "我們還專注於無縫私人接送服務。無論您需要便捷的機場接送、郵輪接駁，還是舒適地前往惠斯勒滑雪週末，我們的車隊隨時為您服務。"
            : "We also specialize in seamless private transfers. Whether you need a hassle-free airport pickup, a cruise ship connection, or a comfortable ride to Whistler for a ski weekend, our fleet is at your service.",
    ourServices:
        currentLang === "zh" ? "我們的高級服務" : "Our Premium Services",
    servicesDesc:
        currentLang === "zh"
            ? "通過我們的專業旅遊服務體驗Qualitour的不同之處。"
            : "Experience the Qualitour difference with our range of specialized travel services.",
    guidedTours: currentLang === "zh" ? "導遊團" : "Guided Tours",
    guidedToursDesc:
        currentLang === "zh"
            ? "由專家帶領穿越加拿大最具標誌性的景觀。"
            : "Expertly led journeys through Canada's most iconic landscapes.",
    miniGroups: currentLang === "zh" ? "小團體" : "Mini Groups",
    miniGroupsDesc:
        currentLang === "zh"
            ? "為朋友和家人提供親密、靈活的旅行體驗。"
            : "Intimate, flexible travel experiences for friends and families.",
    privateTransfers: currentLang === "zh" ? "私人接送" : "Private Transfers",
    privateTransfersDesc:
        currentLang === "zh"
            ? "適合任何場合的舒適、可靠的交通服務。"
            : "Comfortable, reliable transportation for any occasion.",
    ctaTitle:
        currentLang === "zh"
            ? "準備好開始您的冒險了嗎？"
            : "Ready to Start Your Adventure?",
    ctaSubtitle:
        currentLang === "zh"
            ? "讓我們幫助您創建完美的行程。今天就聯繫我們或瀏覽我們精選的旅遊項目。"
            : "Let us help you create the perfect itinerary. Contact us today or browse our curated selection of tours.",
    contactUs: currentLang === "zh" ? "聯絡我們" : "Contact Us",
    browseTours: currentLang === "zh" ? "瀏覽所有行程" : "Browse All Tours",
};

const heroImage =
    "https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80";
---

<Layout
    title={`${t.title} | Qualitour`}
    description={currentLang === "zh"
        ? "了解Qualitour - 溫哥華頂級旅遊運營商，致力於提供真實、安全和個性化的加拿大旅行體驗。"
        : "Discover Qualitour, Vancouver's premier tour operator dedicated to authentic, safe, and personalized Canadian travel experiences."}
    lang={currentLang}
    image={heroImage}
>
    <main class="min-h-screen">
        <!-- Hero Section -->
        <PageHero
            image={heroImage}
            title={t.title}
            subtitle={t.subtitle}
            badge={{ icon: "groups", text: t.title }}
        />

        <!-- Mission Statement -->
        <section class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-4xl mx-auto text-center">
                    <span
                        class="text-[#f7941e] font-bold tracking-widest uppercase text-sm mb-4 block"
                    >
                        {t.mission}
                    </span>
                    <h2
                        class="text-3xl md:text-4xl font-serif text-gray-900 leading-relaxed"
                    >
                        "{t.missionText}"
                    </h2>
                    <div
                        class="w-24 h-1 bg-[#f7941e] mx-auto mt-10 rounded-full"
                    >
                    </div>
                </div>
            </div>
        </section>

        <!-- Core Values -->
        <section class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div
                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"
                >
                    {
                        [
                            {
                                icon: "verified",
                                title:
                                    currentLang === "zh"
                                        ? "真實性"
                                        : "Authenticity",
                                desc:
                                    currentLang === "zh"
                                        ? "超越旅遊陷阱的手工行程，揭示目的地的真實精神。"
                                        : "Handcrafted itineraries that go beyond the tourist traps to reveal the true spirit of the destination.",
                            },
                            {
                                icon: "settings_suggest",
                                title:
                                    currentLang === "zh"
                                        ? "個性化"
                                        : "Personalization",
                                desc:
                                    currentLang === "zh"
                                        ? "量身定制的體驗，完美匹配您的節奏、興趣和旅行風格。"
                                        : "Tailor-made experiences designed to match your pace, interests, and travel style perfectly.",
                            },
                            {
                                icon: "admin_panel_settings",
                                title:
                                    currentLang === "zh"
                                        ? "安全第一"
                                        : "Safety First",
                                desc:
                                    currentLang === "zh"
                                        ? "您的福祉是我們的首要任務，嚴格的安全標準和經驗豐富的當地導遊。"
                                        : "Your well-being is our top priority, with rigorous safety standards and experienced local guides.",
                            },
                            {
                                icon: "favorite",
                                title:
                                    currentLang === "zh" ? "熱情" : "Passion",
                                desc:
                                    currentLang === "zh"
                                        ? "由旅行愛好者創立，傾注心血打造您的夢想假期。"
                                        : "Founded by travel enthusiasts who pour their heart into creating your dream vacation.",
                            },
                        ].map((value) => (
                            <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                                <div class="w-14 h-14 bg-[#f7941e]/10 rounded-full flex items-center justify-center text-[#f7941e] mb-6">
                                    <span class="material-icons text-3xl">
                                        {value.icon}
                                    </span>
                                </div>
                                <h3 class="text-xl font-bold text-gray-900 mb-3">
                                    {value.title}
                                </h3>
                                <p class="text-gray-600 leading-relaxed text-sm">
                                    {value.desc}
                                </p>
                            </div>
                        ))
                    }
                </div>
            </div>
        </section>

        <!-- Visual Storytelling Section -->
        <section class="py-24 overflow-hidden bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- Who We Are -->
                <div
                    class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20 mb-24"
                >
                    <div class="lg:w-1/2 relative group">
                        <div
                            class="absolute inset-0 bg-[#f7941e] rounded-2xl rotate-3 group-hover:rotate-2 transition-transform opacity-20"
                        >
                        </div>
                        <div
                            class="relative rounded-2xl overflow-hidden shadow-2xl aspect-[4/3]"
                        >
                            <Image
                                src={miniTourImg}
                                alt="Small group tour experience"
                                width={800}
                                height={600}
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                            />
                        </div>
                    </div>
                    <div class="lg:w-1/2">
                        <h2
                            class="text-3xl md:text-4xl font-bold text-gray-900 mb-6"
                        >
                            {t.whoWeAre}
                        </h2>
                        <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                            {t.whoWeAreText1}
                        </p>
                        <p class="text-lg text-gray-600 leading-relaxed">
                            {t.whoWeAreText2}
                        </p>
                    </div>
                </div>

                <!-- More Than Just Tours -->
                <div
                    class="flex flex-col lg:flex-row-reverse items-center gap-12 lg:gap-20"
                >
                    <div class="lg:w-1/2 relative group">
                        <div
                            class="absolute inset-0 bg-blue-500 rounded-2xl -rotate-2 group-hover:-rotate-1 transition-transform opacity-10"
                        >
                        </div>
                        <div
                            class="relative rounded-2xl overflow-hidden shadow-2xl aspect-[4/3]"
                        >
                            <Image
                                src={skiShuttleImg}
                                alt="Private transfer service"
                                width={800}
                                height={600}
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                            />
                        </div>
                    </div>
                    <div class="lg:w-1/2">
                        <h2
                            class="text-3xl md:text-4xl font-bold text-gray-900 mb-6"
                        >
                            {t.moreThanTours}
                        </h2>
                        <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                            {t.moreThanToursText}
                        </p>
                        <ul class="space-y-4">
                            {
                                [
                                    currentLang === "zh"
                                        ? "豪華車隊提供最大舒適度"
                                        : "Luxury fleet for maximum comfort",
                                    currentLang === "zh"
                                        ? "專業、準時的司機"
                                        : "Professional, punctual drivers",
                                    currentLang === "zh"
                                        ? "全天候支持，讓您安心"
                                        : "24/7 Support for peace of mind",
                                ].map((item) => (
                                    <li class="flex items-center gap-3 text-gray-700 font-medium">
                                        <span class="material-icons text-[#f7941e]">
                                            check_circle
                                        </span>
                                        {item}
                                    </li>
                                ))
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Showcase -->
        <section class="py-20 bg-gray-900 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">
                        {t.ourServices}
                    </h2>
                    <p class="text-gray-400 max-w-2xl mx-auto">
                        {t.servicesDesc}
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    {
                        [
                            {
                                image: guideTourImg,
                                icon: "tour",
                                title: t.guidedTours,
                                desc: t.guidedToursDesc,
                                link: `${localePrefix}/tours`,
                            },
                            {
                                image: miniTourImg,
                                icon: "groups",
                                title: t.miniGroups,
                                desc: t.miniGroupsDesc,
                                link: `${localePrefix}/tours`,
                            },
                            {
                                image: skiShuttleImg,
                                icon: "directions_car",
                                title: t.privateTransfers,
                                desc: t.privateTransfersDesc,
                                link: `${localePrefix}/private-transfers`,
                            },
                        ].map((service) => (
                            <a
                                href={service.link}
                                class="group relative h-96 rounded-2xl overflow-hidden block"
                            >
                                <Image
                                    src={service.image}
                                    alt={service.title}
                                    width={600}
                                    height={400}
                                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                                />
                                <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent flex flex-col justify-end p-8">
                                    <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                        <span class="material-icons text-[#f7941e] text-4xl mb-4">
                                            {service.icon}
                                        </span>
                                        <h3 class="text-2xl font-bold mb-2">
                                            {service.title}
                                        </h3>
                                        <p class="text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100 text-sm">
                                            {service.desc}
                                        </p>
                                    </div>
                                </div>
                            </a>
                        ))
                    }
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-24 bg-white relative overflow-hidden">
            <div
                class="absolute inset-0 opacity-5 bg-[radial-gradient(#f7941e_1px,transparent_1px)] [background-size:16px_16px]"
            >
            </div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div
                    class="bg-[#f7941e] rounded-3xl p-12 md:p-16 text-center text-white shadow-2xl mx-auto max-w-5xl"
                >
                    <h2 class="text-3xl md:text-5xl font-bold mb-6">
                        {t.ctaTitle}
                    </h2>
                    <p
                        class="text-lg md:text-xl text-white/90 mb-10 max-w-2xl mx-auto"
                    >
                        {t.ctaSubtitle}
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <a
                            href={`${localePrefix}/tours`}
                            class="px-8 py-4 bg-white text-[#f7941e] font-bold rounded-full hover:bg-gray-100 hover:shadow-lg transition-all transform hover:-translate-y-1"
                        >
                            {t.browseTours}
                        </a>
                        <a
                            href={`${localePrefix}/contact`}
                            class="px-8 py-4 bg-[#d67a1a] text-white font-bold rounded-full hover:bg-[#c56810] hover:shadow-lg transition-all transform hover:-translate-y-1 border-2 border-transparent hover:border-white/20"
                        >
                            {t.contactUs}
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>
</Layout>
