---
import CdnImage from "./CdnImage.astro";

/**
 * PageHero - Reusable hero section component for static pages
 *
 * Features:
 * - Background image with gradient overlay
 * - Optional badge with icon
 * - Title and subtitle
 * - Slot for additional content (buttons, links, etc.)
 */

interface Props {
    image: string;
    title: string;
    subtitle?: string;
    badge?: {
        icon: string;
        text: string;
    };
    height?: string;
    align?: "left" | "center" | "right";
}

const {
    image,
    title,
    subtitle,
    badge,
    height = "min-h-[60vh]",
    align = "center",
} = Astro.props;
---

<section
    class={`relative ${height} flex items-center justify-center overflow-hidden`}
>
    <!-- Background Image -->
    <div class="absolute inset-0">
        <CdnImage
            src={image}
            alt={title}
            width={1920}
            height={1080}
            class="w-full h-full object-cover object-center"
            loading="eager"
            decoding="async"
            quality={80}
            format="webp"
        />
    </div>

    <!-- Gradient Overlay -->
    <div
        class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"
    >
    </div>

    <!-- Decorative elements -->
    <div
        class="absolute top-20 right-20 w-96 h-96 bg-[#f7941e]/20 rounded-full blur-3xl pointer-events-none"
    >
    </div>
    <div
        class="absolute bottom-20 left-20 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl pointer-events-none"
    >
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-20">
        <div
            class:list={[
                align === "center" && "text-center max-w-4xl mx-auto",
                align === "left" && "text-left max-w-2xl",
                align === "right" && "text-right max-w-2xl ml-auto",
            ]}
        >
            <!-- Badge -->
            {
                badge && (
                    <div
                        class:list={[
                            "inline-flex items-center gap-2 bg-white/10 backdrop-blur-md rounded-full px-5 py-2.5 mb-8 border border-white/20",
                        ]}
                    >
                        <span class="material-icons text-[#f7941e] text-xl">
                            {badge.icon}
                        </span>
                        <span class="text-white font-medium tracking-wide uppercase">
                            {badge.text}
                        </span>
                    </div>
                )
            }

            <!-- Title -->
            <h1
                class="text-4xl md:text-5xl lg:text-7xl font-bold text-white mb-6 drop-shadow-xl leading-tight"
            >
                {title}
            </h1>

            <!-- Subtitle -->
            {
                subtitle && (
                    <p
                        class:list={[
                            "text-xl md:text-2xl text-white/90 mb-10 leading-relaxed font-light",
                            align === "center" && "max-w-2xl mx-auto",
                            align === "left" && "max-w-xl",
                            align === "right" && "max-w-xl ml-auto",
                        ]}
                    >
                        {subtitle}
                    </p>
                )
            }

            <!-- Slot for additional content (buttons, etc) -->
            <slot />
        </div>
    </div>

    <!-- Scroll indicator -->
    <div
        class="absolute bottom-8 left-1/2 -translate-x-1/2 text-white/50 animate-bounce pointer-events-none hidden md:block"
    >
        <span class="material-icons text-3xl">keyboard_arrow_down</span>
    </div>
</section>
